<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>신기한 스크롤</title>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <style>
      .card-background {
        height: 3000px;
        margin-top: 800px;
        margin-bottom: 1600px;
      }
      .card-box {
        position: sticky;
        top: 200px;
      }
      .card-box img {
        display: block;
        margin: auto;
        max-width: 80%;
      }
    </style>
    <div class="card-background">
      <div class="card-box">
        <img src="card4.png" />
      </div>
      <div class="card-box">
        <img src="card5.png" />
      </div>
      <div class="card-box">
        <img src="card6.png" />
      </div>
    </div>
    <script>
      $(window).scroll(function () {
        var 높이 = $(window).scrollTop();
        console.log(높이);
        var y = (-1 / 500) * 높이 + 115 / 50;

        let box = document.querySelectorAll(".card-box");

        $(box)
          .eq(0)
          .css({ opacity: y, transform: `scale(${y})`, transition: 0.5 });
        $(box)
          .eq(1)
          .css({ opacity: y, transform: `scale(${y})`, transition: 0.5 });

        // $(box)
        //   .eq(1)
        //   .css({ opacity: y, transform: `scale(${y})`, transition: 0.5 });

        //2. scale 조정
        // 700 ~ 1000
        // 첫번째 카드의 scale를 1 ~ 0.8로 서서히 조정한다.

        // if (높이 >= 700 && 높이 <= 1000) {
        // } else {
        //   $(".card-box").eq(0).css("transform", `scale(1)`);
        //   if (높이 >= 1650 && 높이 <= 1950) {
        //     $(".card-box").eq(1).css("transform", `scale(${s2})`);
        //   } else {
        //     $(".card-box").eq(1).css("transform", `scale(1)`);
        //   }
      });
    </script>
  </body>
</html>
